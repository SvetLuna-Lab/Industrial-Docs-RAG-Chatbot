# Industrial Docs RAG Chatbot (RU)

–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.

## 1. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π ¬´—Å–∫–µ–ª–µ—Ç¬ª RAG-—Å–∏—Å—Ç–µ–º—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π:

- —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è;
- –ò–ë-–ø–æ–ª–∏—Ç–∏–∫–∏ (SSH, –¥–æ—Å—Ç—É–ø—ã);
- —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã, —à–∞–±–ª–æ–Ω—ã –æ—Ç—á—ë—Ç–æ–≤;
- —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é RAG-–±–æ—Ç–∞.

–ó–∞–¥–∞—á–∞: –¥–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π —Å–ª–æ–π **–ø–æ–∏—Å–∫–∞ –∏ –≤—ã–±–æ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** (retrieval), –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ –ª—é–±–æ–º—É LLM.

---

## 2. –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ FAISS-–∏–Ω–¥–µ–∫—Å—É –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
- ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `configs/default.yaml` + `src/config.py`:
  - –º–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (CPU/GPU), `top_k`;
  - –ø—É—Ç–∏ –∫ `data/raw` –∏ `data/index`.
- üß± –†–µ—Ç—Ä–∏–≤–µ—Ä `VectorRetriever`:
  - –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤ ‚Üí –≤–µ–∫—Ç–æ—Ä—ã;
  - –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ / —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ / –∑–∞–≥—Ä—É–∑–∫–∞ FAISS-–∏–Ω–¥–µ–∫—Å–∞;
  - –º–µ—Ç–æ–¥ `search(query, top_k)` —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º —á–∞–Ω–∫–æ–≤ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö.
- üåê HTTP API (FastAPI):
  - `GET /health`;
  - `POST /search`;
  - `POST /chat` ‚Äî –∑–∞–≥–ª—É—à–∫–∞ RAG-—á–∞—Ç-–±–æ—Ç–∞ (–ø–æ–∫–∞ –±–µ–∑ LLM).
- üñ•Ô∏è CLI:
  - –ø–æ–∏—Å–∫ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:

    ```bash
    python -m src.cli search "How to harden SSH on Ubuntu?" --top-k 5
    ```

- üß™ –¢–µ—Å—Ç—ã:
  - smoke-—Ç–µ—Å—Ç—ã API —Å `DummyRetriever`;
  - e2e-—Ç–µ—Å—Ç—ã –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä–∞ –∏ —Ä–µ—Ç—Ä–∏–≤–µ—Ä–∞.

---

## 3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–∫—Ä–∞—Ç–∫–æ)

```text
industrial-docs-rag-chatbot/
  configs/        # default.yaml ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤, –ø–æ–∏—Å–∫–∞, LLM
  data/
    raw/          # —Å—ã—Ä—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (.txt, .md), –ø—Ä–∏–º–µ—Ä–Ω—ã–π –∫–æ—Ä–ø—É—Å (RU + EN)
    index/        # faiss_index.bin + metadata.jsonl (—Å–æ–∑–¥–∞—é—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–∞–º–∏)
  scripts/
    build_index.py  # –ø—Ä–æ—Å—Ç–æ–π —Å–±–æ—Ä—â–∏–∫ –∏–Ω–¥–µ–∫—Å–∞ (hash-—ç–º–±–µ–¥–¥–∏–Ω–≥–∏)
  src/
    config.py     # Paths + AppConfig
    retriever.py  # VectorRetriever
    cli.py        # CLI: –∫–æ–º–∞–Ω–¥–∞ `search`
    ingest.py     # ingestion-–ø–∞–π–ø–ª–∞–π–Ω –Ω–∞ Sentence-Transformers
    api/app.py    # FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: /health, /search, /chat
  tests/          # —Ç–µ—Å—Ç—ã API –∏ —Ä–µ—Ç—Ä–∏–≤–µ—Ä–∞
  README.md       # –æ—Å–Ω–æ–≤–Ω–æ–π README (EN)
  README_RU.md    # —ç—Ç–æ—Ç –∫—Ä–∞—Ç–∫–∏–π —Ñ–∞–π–ª

```


## 4. –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

**4.1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞**

python -m venv .venv
source .venv/bin/activate      # Linux/macOS
# .venv\Scripts\activate       # Windows

pip install -r requirements.txt
# –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
pip install -r requirements-dev.txt



**4.2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö**

1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ data/raw/
(—Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã, –ø–æ–ª–∏—Ç–∏–∫–∏, —à–∞–±–ª–æ–Ω—ã –æ—Ç—á—ë—Ç–æ–≤ –∏ —Ç.–¥. –≤ .txt / .md).

2. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω–¥–µ–∫—Å:

**–í–∞—Ä–∏–∞–Ω—Ç A ‚Äî –ª—ë–≥–∫–∏–π —Å–∫—Ä–∏–ø—Ç:**

python -m scripts.build_index --input-dir data/raw


**–í–∞—Ä–∏–∞–Ω—Ç B ‚Äî ingestion-–ø–∞–π–ø–ª–∞–π–Ω (Sentence-Transformers):**

python -m src.ingest


–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–æ—è–≤—è—Ç—Å—è:

data/index/faiss_index.bin
data/index/metadata.jsonl


**4.3. –ó–∞–ø—É—Å–∫ API**

uvicorn src.api.app:app --reload


–ü—Ä–æ–≤–µ—Ä–∫–∞:

- Swagger UI: http://127.0.0.1:8000/docs

- ReDoc: http://127.0.0.1:8000/redoc


**4.4. –ü—Ä–∏–º–µ—Ä CLI-–ø–æ–∏—Å–∫–∞**

python -m src.cli search "–†–µ–≥–ª–∞–º–µ–Ω—Ç –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –Ω–∞—Å–æ—Å–∞ –ù-250" --top-k 5


–í—ã–≤–æ–¥ –≤–∫–ª—é—á–∞–µ—Ç:

- score (—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å),

- doc_id, chunk_id,

- –∫–æ—Ä–æ—Ç–∫–∏–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç —Ç–µ–∫—Å—Ç–∞.


## 5. –ü—Ä–∏–º–µ—Ä–Ω—ã–π –∫–æ—Ä–ø—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

–í data/raw/ –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä:

- SSH-–ø–æ–ª–∏—Ç–∏–∫–∏:

- ssh_hardening_ubuntu_gpn.md / _en.md

- ssh_access_approval_policy_ru.md / _en.md

- –†–µ–≥–ª–∞–º–µ–Ω—Ç—ã –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è:

- pump_unit_maintenance_regulation_ru.md / _en.md

- –ò–Ω—Ü–∏–¥–µ–Ω—Ç—ã:

- incident_report_template_ru.md / _en.md

- RAG-–±–æ—Ç:

- rag_bot_operator_manual_ru.md / _en.md

- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:

- data_classification_guideline_ru.md / _en.md

–≠—Ç–æ—Ç –Ω–∞–±–æ—Ä –¥–∞—ë—Ç ¬´–∂–∏–≤–æ–π¬ª –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π –∫–æ—Ä–ø—É—Å –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã RAG.

