# Обзор проекта (RU)

## 1. Идея

Этот репозиторий — «скелет» системы Retrieval-Augmented Generation (RAG)  
для работы с внутренней документацией (инструкции, регламенты, технические описания).

Цель:

- собрать документы в одну индексируемую базу;
- дать простой API, который:
  - по запросу находит релевантные фрагменты текста;
  - в дальнейшем сможет передавать эти фрагменты в LLM для генерации ответа.

Текущая версия не привязана к конкретной компании и не содержит реальной документации —
это шаблон, который можно адаптировать под любую предметную область.

---

## 2. Архитектура (в двух словах)

1. **Индекс документов**  
   Текстовые файлы разбиваются на небольшие куски (chunks),  
   для каждого куска считаются эмбеддинги, а поверх них строится FAISS-индекс.

2. **Векторный ретривер** (`src/retriever.py`)  
   Оборачивает загрузку эмбеддингов и FAISS-индекса в один класс `VectorRetriever`,
   у которого есть метод `search(query, top_k)`.

3. **HTTP-API** (`src/api/app.py`)  
   FastAPI-приложение с базовыми эндпоинтами:
   - `GET /health` — проверка живости;
   - `POST /search` — поиск по индексу;
   - `POST /chat` — заглушка для будущего RAG-чат-бота.

4. **Тесты** (`tests/test_api_smoke.py`)  
   Smoke-тесты, которые проверяют форму ответов API с помощью
   «поддельного» ретривера (без реального индекса).

---

## 3. Структура проекта

```text
project-root/
├─ src/
│  ├─ __init__.py
│  ├─ config.py          # центральные настройки: пути к индексу, модели, метаданные
│  ├─ retriever.py       # VectorRetriever: загрузка эмбеддингов и FAISS-индекса
│  └─ api/
│     └─ app.py          # FastAPI-приложение: /health, /search, /chat
├─ tests/
│  └─ test_api_smoke.py  # smoke-тесты API с DummyRetriever
├─ scripts/
│  └─ build_index.py     # (планируется) сборка индекса из сырых текстов
├─ docs/
│  ├─ Overview_EN.md     # обзор на английском
│  └─ Overview_RU.md     # этот файл
├─ requirements.txt      # зависимости для запуска сервиса
├─ requirements-dev.txt  # dev-зависимости (pytest и т.п.), если используются
├─ pytest.ini            # конфигурация pytest
├─ .gitignore            # игнорирование venv, кэшей, временных файлов
└─ README.md             # основное описание проекта (EN)



4. Типичный сценарий использования

Подготовить сырые тексты (Markdown, HTML, PDF → текст) в отдельной папке.

Запустить скрипт сборки индекса (scripts/build_index.py), который:

прочитает все файлы;

разобьёт их на фрагменты;

посчитает эмбеддинги;

построит FAISS-индекс и сохранит метаданные.

Запустить API через Uvicorn:


uvicorn src.api.app:app --reload


Использовать:

POST /search для поиска по документам;

POST /chat — позже, когда будет подключён реальный LLM.



5. Статус проекта

Индекс строится в упрощённом виде (скрипт build_index.py в разработке).

RAG-часть (/chat) пока работает как заглушка: возвращает
шаблонный ответ и список найденного контекста.

Основной фокус — на чистой архитектуре:

отдельная конфигурация;

изолированный ретривер;

тонкое API;

простые тесты.

Проект можно использовать как стартовую точку для:

внутреннего чатбота по документации;

прототипа системы поддержки инженеров / операторов;

обучающего примера по RAG для студентов и джуниор-разработчиков.
